{% block content %}
<style>
  body {
    margin: 0;
    padding: 0;
    background: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab);
    background-size: 400% 400%;
    animation: gradientBackground 15s ease infinite;
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  }

  @keyframes gradientBackground {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
  }

  .container {
    background: rgba(255, 255, 255, 0.12);
    backdrop-filter: blur(15px);
    border-radius: 20px;
    padding: 30px;
    margin-top: 40px;
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.25);
    color: #fff;
  }

  h2 {
    text-align: center;
    font-weight: 700;
    text-shadow: 1px 1px 3px black;
    margin-bottom: 25px;
  }

  .btn {
    font-weight: 600;
    border-radius: 8px;
    transition: all 0.3s ease;
  }

  .btn:hover {
    transform: scale(1.05);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
  }

  .form-control {
    border-radius: 8px;
    border: none;
    outline: none;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15);
  }

  .table-responsive {
    overflow-x: auto;
  }

  .table-responsive::before {
    content: "üëÜ Scroll horizontally to view more columns";
    color: white;
    font-size: 0.85rem;
    margin-bottom: 10px;
    display: block;
    text-align: center;
  }

  @media (min-width: 768px) {
    .table-responsive::before {
      content: "";
      display: none;
    }
  }

  table {
    background-color: rgba(255, 255, 255, 0.95);
    color: #333;
    border-radius: 10px;
    overflow: hidden;
    font-size: 0.95rem;
  }

  thead th {
    text-align: center;
    vertical-align: middle;
    position: sticky;
    top: 0;
    background-color: #212529;
    color: #fff;
    z-index: 1;
  }

  th, td {
    text-align: center;
    vertical-align: middle;
    padding: 0.6rem 0.4rem;
  }

  tbody tr:hover {
    background-color: rgba(0, 0, 0, 0.05);
  }

  .btn-warning, .btn-danger, .btn-outline-primary, .btn-outline-secondary {
    font-weight: 500;
    border-radius: 6px;
    margin: 2px;
  }

  .pagination-controls {
    color: white;
    font-weight: 500;
  }
</style>

<div class="container mt-4">
  <h2 class="mb-3">üìã Complete Employee List</h2>

  <!-- Buttons and Search -->
  <div class="mb-3 d-flex flex-wrap justify-content-start align-items-center gap-2">
    <a href="{% url 'employee_create' %}" class="btn btn-success me-2">‚ûï Add Employee</a>
    <a href="{% url 'employee_stats' %}" class="btn btn-info me-3">üìä View Stats</a>
    <a href="{% url 'dashboard' %}" class="btn btn-secondary">üîô Back to Dashboard</a>
    <form method="get" class="d-flex flex-wrap" role="search">
      <input type="text" name="q" class="form-control me-2" placeholder="üîç Search name, email, phone, etc." value="{{ query }}">
      <button type="submit" class="btn btn-outline-primary">Search</button>
    </form>
  </div>

  <!-- Table -->
  <div class="table-responsive">
    <table class="table table-striped table-bordered table-sm">
      <thead class="table-dark">
        <tr>
          <th>Full Name</th>
          <th>Email</th>
          <th>Phone</th>
          <th>Gender</th>
          <th>Department</th>
          <th>Designation</th>
          <th>Grade</th>
          <th>Branch</th>
          <th>Category</th>
          <th>Address</th>
          <th>City</th>
          <th>State</th>
          <th>Salary</th>
          <th>DOB</th>
          <th>DOJ</th>
          <th>Active?</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        {% for emp in employees %}
        <tr>
          <td>{{ emp.full_name }}</td>
          <td>{{ emp.email }}</td>
          <td>{{ emp.phone }}</td>
          <td>{{ emp.gender }}</td>
          <td>{{ emp.department }}</td>
          <td>{{ emp.designation }}</td>
          <td>{{ emp.grade }}</td>
          <td>{{ emp.branch }}</td>
          <td>{{ emp.category }}</td>
          <td>{{ emp.address }}</td>
          <td>{{ emp.city }}</td>
          <td>{{ emp.state }}</td>
          <td>‚Çπ{{ emp.salary }}</td>
          <td>{{ emp.dob|date:"M j, Y" }}</td>
          <td>{{ emp.doj|date:"M j, Y" }}</td>
          <td>{% if emp.is_active %}‚úÖ{% else %}‚ùå{% endif %}</td>
          <td>
            <a href="{% url 'employee_edit' emp.slug %}" class="btn btn-sm btn-warning" title="Edit">Edit</a>
            <a href="{% url 'employee_delete' emp.id %}" class="btn btn-sm btn-danger"
               onclick="return confirm('Are you sure you want to delete {{ emp.full_name }}?');" title="Delete">Delete</a>
            <a href="{% url 'employee_detail' emp.slug %}" class="btn btn-sm btn-info" title="View Details">View</a>
          </td>
        </tr>
        {% empty %}
        <tr>
          <td colspan="17" class="text-center text-danger">No employees found.</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>

  <!-- Pagination -->
  <div class="d-flex justify-content-between mt-3 pagination-controls">
    <span>Page {{ employees.number }} of {{ employees.paginator.num_pages }}</span>
    <div>
      {% if employees.has_previous %}
        <a href="?q={{ query }}&page=1" class="btn btn-outline-secondary btn-sm">‚è™ First</a>
        <a href="?q={{ query }}&page={{ employees.previous_page_number }}" class="btn btn-outline-secondary btn-sm">‚óÄ Prev</a>
      {% endif %}
      {% if employees.has_next %}
        <a href="?q={{ query }}&page={{ employees.next_page_number }}" class="btn btn-outline-secondary btn-sm">Next ‚ñ∂</a>
        <a href="?q={{ query }}&page={{ employees.paginator.num_pages }}" class="btn btn-outline-secondary btn-sm">Last ‚è©</a>
      {% endif %}
    </div>
  </div>
</div>
{% endblock %}
